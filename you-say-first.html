<head>
  <title>you-say-first</title>
</head>

<body>
<div id="header">
  <h1>You Say First!</h1>
</div>
  {{> page}}

<div id="explanation">
<h3>What is this?</h3>
<div class="overflow">
<p>
You-say-first is a web application to play ad-hoc games where all players have to submit their moves at the same time (e.g. rock-paper-scissors, diplomacy). Here, you can create a room (just enter any name that you want), share the address with your friends and start playing. You can enter your move, and as soon as everyone ticks the ‘Final’ field, the moves are shown to everyone.
</p>

<p>
This was inspired by a <a href="http://boardgames.stackexchange.com/questions/11821/abstract-move-holding-service-for-simultaneous-move-board-games">question by ‘Fool’</a> on the Boards and Card Games stack overflow page. It was created by <a href="mailto:mail@joachim-breitner.de">Joachim Breitner</a> using Meteor and is hosted by <a href="http://meteor.com">meteor.com</a>. You can <a href="https://github.com/nomeata/you-say-first">Check out the code</a>; bug reports and pull requests are welcome.
</p>
</div>
</div>
</body>

<template name="page">
  {{#if room}}
  {{> room}}
  {{else}}
  {{> welcome}}
  {{/if}}
</template>

<template name="welcome">
<div id="welcome">
<p>
You can create or enter a room here: <br/>
<input type="text" id="room" value="{{roomname}}" /> <input type="submit" id="roomsubmit" value="Enter Room"/>
</p>
</div>
</template>

<template name="room">
  <div id="players_pane">
  <h3>Players</h3>
  <div class="forms">
  <input type="text" placeholder="your nickname" id="myname"></input>
  <input type="submit" id="join" value="join" disabled="disabled"/>
  <input type="submit" id="leave" value="leave" disabled="disabled"/>
  </div>
  <div class="overflow">
  <ul>
  {{#each players}}
  {{#if isfinal}}
  <li class="finished">
  <span title="finished" class="symbol">✓</span>
  {{else}}
  <li class="waiting">
  <span title="thinking" class="symbol">?</span>
  {{/if}}
  {{name}}</li>
  {{/each}}
  </ul>
  </div>
  </div>

 <div id="moves_pane">
   <h3>Moves</h3>
    <div class="forms">
    <input type="text" id="mymove" placeholder="Your next move?" disabled="disabled"></input> 
    <input type="checkbox" name="myfinal" id="myfinal" disabled="disabled"></input>
    <label for="myfinal">Final?</label>
    </div>
    <div class="overflow">
    <ul>
    {{#each moves}}
    <li>
    <ul>
    {{#each entries}}
    <li><span class="name">{{name}}</span><span class="move">{{move}}</span></li>
    {{/each}}
    </ul>
    </li>
    {{/each}}
    </ul>
    </div>
  </div>
</template>
